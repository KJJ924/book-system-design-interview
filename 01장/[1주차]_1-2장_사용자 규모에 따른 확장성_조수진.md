## 무상태(stateless) 웹 계층

웹 계층을 수평적으로 확장하기 위해서는 상태 정보를 웹 계층에서 제거해야한다

→ 상태 정보를 RDB, NoSQL 같은 지속성 저장소에 보관

- 이렇게 구성된 웹 계층 = 무상태 웹 계층

⇒ 트래픽에 따라 오토 스케일링 가능

## 데이터 센터

여러 개의 데이터 센터를 사용하는 경우

- 일반적으로 사용자는 가장 가까운 데이터 센터로 연결됨(geoDNS-routing)
- 한 데이터 센터에 심각한 장애가 발생하면 모든 트래픽은 장애가 없는 데이터 센터로 전송되어야 한다

→ 다중 데이터 센터 아키텍처를 만들기 위해 아래와 같은 기술적인 문제 해결이 필요하다

- 트래픽 우회
- 데이터 동기화
- 테스트와 배포

## 메시지 큐

- 메시지의 무손실을 보장하는 비동기 통신 컴포넌트
- 메세지의 버퍼 역할
- 생산자(발행자), 메시지 큐, 소비자(구독자)로 구성

## 로그, 메트릭 그리고 자동화

비지니스의 규모가 커지면 로그, 매트릭, 자동화 도구에 필수적으로 투자해야한다

- 로그: 에러 모니터링을 위해. 로그를 단일 서비스로 모아주는 도구를 사용할 수도 있음
- 메트릭: 유용한 정보, 시스템의 현 상태를 파악하기 위해
- 자동화: 생산성과 안정성을 높이기 위해

## 데이터베이스의 규모 확장

- scale up: 고성능 자원(CPU, RAM, 디스크 등) 증설
- scale out: 샤딩
    - 대규모 데이터베이스를 샤드라는 단위로 분할하는 기술
    - 중복 데이터가 없음
    - 샤딩 키(파티션 키)를 어떻게 정할지에 대한 전략이 필요(재샤딩, 유명인사, 조인과 비정규화 이슈 고려)

## 백만 사용자, 그리고 그 이상

시스템 규모를 확장하는 것은 지속적이고 반복적인 과정

수백만 사용자 이상을 지원하기 위해서는 새로운 전략 & 지속적인 시스템 다듬기 필요